#include "findProc.h"

int procFind(const char* procName) {

	HANDLE hSnap;
	PROCESSENTRY32 pe;
	BOOL hResult;
	int pid = 0;

	hSnap = CreateToolhelp32Snapshot(TH32CS_SNAPPROCESS, 0);
	pe.dwSize = sizeof(PROCESSENTRY32);

	hResult = Process32First(hSnap, &pe);

	while (hResult) {

		if (strcmp(procName, (const char *)pe.szExeFile) == 0) {
			pid = pe.th32ProcessID;
			break;
		}
		else {
			hResult = Process32Next(hSnap, &pe);
		}
	}

	CloseHandle(hSnap);

	return pid;
}